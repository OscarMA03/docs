---
title: 'Create Company Configuration'
openapi: 'POST /config'
---

## Create Company Configuration

Creates company configuration settings for initializing the AI agent with company-specific information.

<ParamField path="header" type="string" name="X-API-Key" required>
  API key for authentication
</ParamField>

### Request Body

<ParamField path="body" type="object" name="configData" required>
  Company configuration data
</ParamField>

<ParamField path="body" type="string" name="classId" required>
  Class identifier
</ParamField>

<ParamField path="body" type="string" name="companyUrl" required>
  Company's API endpoint
</ParamField>

<ParamField path="body" type="string" name="companyName" required>
  Official business name
</ParamField>

<ParamField path="body" type="string" name="companyNumber" required>
  Callback number for follow-ups
</ParamField>

<ParamField path="body" type="string" name="serviceLabelType">
  What to call the appointment (e.g., "In Home Consultation")
</ParamField>

<ParamField path="body" type="string" name="aiDisclosure">
  Whether agent announces it's AI (e.g., "true")
</ParamField>

<ParamField path="body" type="string" name="businessHours">
  When to offer appointments
</ParamField>

<ParamField path="body" type="string" name="serviceAreas">
  Geographic restrictions
</ParamField>

<ParamField path="body" type="string" name="callback">
  Create task to callback at later time
</ParamField>

<ParamField path="body" type="string" name="customGreeting">
  Custom greeting text
</ParamField>

<ParamField path="body" type="string" name="agentName">
  Agent name (e.g., "Sally")
</ParamField>

<ParamField path="body" type="string" name="servicesSupported">
  Comma-separated list of services included (e.g., "windows, doors, replacements")
</ParamField>

<ParamField path="body" type="string" name="servicesNotIncluded">
  Comma-separated list of services excluded (e.g., "repairs, roofs")
</ParamField>

<ParamField path="body" type="string" name="knowledgeBaseName">
  Name of the knowledge base
</ParamField>

<ParamField path="body" type="array" name="knowledgeBaseUrls">
  Array of URLs for the knowledge base
</ParamField>

<ParamField path="body" type="array" name="knowledgeBaseFiles">
  Array of file streams for knowledge base files
</ParamField>

### Example Request

```bash
POST /config
Content-Type: application/json
X-API-Key: your_api_key_here

{
  "classId": "123",
  "companyUrl": "https://company-api.example.com",
  "companyName": "The Men with Tools",
  "companyNumber": "+1234567890",
  "serviceLabelType": "In Home Consultation",
  "aiDisclosure": "true",
  "businessHours": "Monday 9am-5pm, Friday 9am-5pm",
  "serviceAreas": "New York, New Jersey",
  "callback": "callback_task",
  "customGreeting": "Hi, thanks for calling the Men with Tools",
  "agentName": "Sally",
  "servicesSupported": "windows, doors, replacements",
  "servicesNotIncluded": "repairs, roofs",
  "knowledgeBaseName": "Sample KB",
  "knowledgeBaseUrls": [
    "https://www.retellai.com",
    "https://docs.retellai.com"
  ],
  "knowledgeBaseFiles": []
}
```

**Note**: For file uploads (`knowledgeBaseFiles`), you may need to use `multipart/form-data` content type instead of `application/json` to properly send file streams.

### Example Response

```json
{
  "success": true,
  "data": {
    "classId": "123",
    "companyUrl": "https://company-api.example.com",
    "companyName": "The Men with Tools",
    "companyNumber": "+1234567890",
    "phoneNumber": "+1234567890",
    "serviceLabelType": "In Home Consultation",
    "aiDisclosure": "true",
    "businessHours": "Monday 9am-5pm, Friday 9am-5pm",
    "serviceAreas": "New York, New Jersey",
    "callback": "callback_task",
    "customGreeting": "Hi, thanks for calling the Men with Tools",
    "agentName": "Sally",
    "servicesSupported": "windows, doors, replacements",
    "servicesNotIncluded": "repairs, roofs",
    "knowledgeBaseName": "Sample KB",
    "knowledgeBaseUrls": [
      "https://www.retellai.com",
      "https://docs.retellai.com"
    ],
    "knowledgeBaseFiles": []
  },
  "error": null
}
```

### Error Response

```json
{
  "success": false,
  "data": null,
  "error": "Invalid class ID or authentication failed"
}
```

### Use Cases

- **Initial Setup**: Create new company configuration for first-time setup
- **AI Agent Initialization**: Configure AI agent with company-specific settings
- **Business Rules**: Set up appointment types, business hours, and service areas
- **Knowledge Base Integration**: Upload knowledge base files and URLs for AI context
- **Customization**: Configure AI behavior and disclosure settings

### Implementation Notes

- Configuration data can be stored in a separate database for simplicity
- Consider implementing validation for required fields before saving
- Implement proper error handling for duplicate class IDs when creating new configurations
- For file uploads, use multipart/form-data encoding when sending `knowledgeBaseFiles`
- Knowledge base files should be processed and indexed for AI context
- Consider implementing audit logging for configuration changes
