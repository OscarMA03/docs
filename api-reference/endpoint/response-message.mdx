---
title: 'Response Message'
openapi: 'POST /api/response-message'
---

## Send AI Response Message

Sends an AI-generated response message in an SMS conversation.

### Request Body

<ParamField path="body" type="object" name="responseData" required>
  AI response message data
</ParamField>

<ParamField path="body" type="string" name="message" required>
  AI-generated message content to send
</ParamField>

<ParamField path="body" type="string" name="sentBy" required>
  Sender identifier (must be "AI")
</ParamField>

<ParamField path="body" type="string" name="customerPhoneNumber">
  Customer's phone number
</ParamField>

<ParamField path="body" type="string" name="companyPhoneNumber">
  Company's phone number
</ParamField>

<ParamField path="body" type="integer" name="organizationID">
  Organization identifier
</ParamField>

<ParamField path="body" type="array" name="mediaUrls">
  Array of media URLs to attach to the message
</ParamField>

### Example Request

```bash
POST /api/response-message
Content-Type: application/json

{
  "message": "Thank you for your interest! I'd be happy to help you schedule an appointment. What service are you looking for?",
  "sentBy": "AI",
  "customerPhoneNumber": "+1234567890",
  "companyPhoneNumber": "+0987654321",
  "organizationID": 456,
  "mediaUrls": []
}
```

### Example Response

```json
{
  "success": true,
  "data": {
    "messageId": "msg_ai_123",
    "message": "Thank you for your interest! I'd be happy to help you schedule an appointment. What service are you looking for?",
    "sentBy": "AI",
    "customerPhoneNumber": "+1234567890",
    "companyPhoneNumber": "+0987654321",
    "organizationID": 456,
    "timestamp": "2024-01-15T10:30:00Z",
    "status": "sent",
    "mediaUrls": []
  },
  "error": null
}
```

### Error Response

```json
{
  "success": false,
  "data": null,
  "error": "Failed to send AI response message"
}
```

### Validation Errors

```json
{
  "success": false,
  "data": null,
  "error": "sentBy must be 'AI'",
  "validation": {
    "sentBy": "Invalid sender. Only 'AI' is allowed for this endpoint"
  }
}
```

### Use Cases

- **AI Agent Responses**: Send AI-generated responses in SMS conversations
- **Automated Customer Service**: Provide instant responses to customer inquiries
- **Conversation Continuity**: Maintain natural conversation flow with AI assistance
- **Lead Qualification**: AI can ask qualifying questions and provide information

### Implementation Notes

- The `sentBy` field must always be "AI" for this endpoint
- Messages are automatically timestamped when sent
- Consider implementing rate limiting for AI responses
- Ensure proper validation of phone number formats
- Media URLs should be validated before sending
